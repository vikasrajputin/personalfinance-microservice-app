<div class="modal fade" [id]="'addIncomeModel-'+incomeModel.id">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Edit Income</h4>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">

        <form class="income-form" [formGroup]="incomeForm">

          <div class="alert alert-success alert-dismissible" *ngIf="submitted">
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            <strong>Success!</strong> Income updated successfully
          </div>
          <div class="alert alert-danger alert-dismissible" *ngIf="errorOccurred">
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            <strong>Error!</strong> {{errorMessage}}
          </div>

          <div class="form-group mb-3 mt-3">
            <label for="sourceOfIncome">Source of Income</label>
            <select class="form-select" formControlName="sourceOfIncome" [(ngModel)]="incomeModel.source" id="source"
              name="source">
              <option value="SALARY">Salary</option>
              <option value="INVESTMENTS">Investments</option>
              <option value="FREELANCING">Freelancing</option>
              <option value="OTHERS">Other</option>
            </select>
          </div>
          <div class="form-floating mb-3 mt-3">
            <input type="text" class="form-control" formControlName="plannedIncomeAmount"
              [(ngModel)]="incomeModel.plannedIncome" id="plannedIncomeAmount" placeholder="Enter the planned income"
              name="plannedIncomeAmount">
            <label for="plannedIncomeAmount">Planned Income Amount</label>
          </div>

          <div class="form-floating mb-3 mt-3">
            <input type="date" class="form-control" formControlName="incomeDate" [(ngModel)]="incomeModel.incomeDate"
              id="incomeDate" placeholder="Date" name="incomeDate">
            <label for="incomeDate">Income Date</label>
          </div>
          <div class="form-floating mb-3 mt-3">
            <textarea class="form-control" formControlName="description" [(ngModel)]="incomeModel.description"
              id="description" name="description" placeholder="Enter the description"></textarea>
            <label for="description">Description</label>
          </div>
          <div class="form-floating mb-3 mt-3">
            <input type="number" class="form-control" formControlName="actualIncomeAmount"
              [(ngModel)]="incomeModel.actualIncome" id="actualIncomeAmount" name="actualIncomeAmount"
              placeholder="Enter the actual expense">
            <label for="actualIncomeAmount">Actual Income Amount</label>
          </div>
          <button type="submit" (click)="updateIncome()" class="btn btn-success" [disabled]="isLoading">

            <div [hidden]="isLoading">
              Update
            </div>
            <div [hidden]="!isLoading">
              <span class="spinner-border spinner-border-sm"></span>
              Updating..
            </div>

          </button>
        </form>
      </div>

    </div>
  </div>
</div>