<div>
  <form [formGroup]="incomeForm">

    <div class="alert alert-success alert-dismissible" *ngIf="submitted">
      <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
      <strong>Success!</strong> Income saved successfully
    </div>
    <div class="alert alert-danger alert-dismissible" *ngIf="errorOccurred">
      <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
      <strong>Error!</strong> {{errorMessage}}
    </div>

    <div class="form-group mb-3 mt-3">
      <label for="sourceOfIncome">Source of Income</label>
      <select class="form-select" formControlName="sourceOfIncome" [(ngModel)]="income.source" id="source"
        name="source">
        <option value="SALARY">Salary</option>
        <option value="INVESTMENTS">Investments</option>
        <option value="FREELANCING">Freelancing</option>
        <option value="OTHERS">Other</option>
      </select>
    </div>
    <div class="form-floating mb-3 mt-3">
      <input type="text" class="form-control" formControlName="plannedIncomeAmount" [(ngModel)]="income.plannedIncome"
        id="plannedIncomeAmount" placeholder="Enter the planned income" name="plannedIncomeAmount">
      <label for="plannedIncomeAmount">Planned Income Amount</label>
    </div>

    <div class="form-floating mb-3 mt-3">
      <input type="date" class="form-control" formControlName="incomeDate" [(ngModel)]="income.incomeDate"
        id="incomeDate" placeholder="Date" name="incomeDate">
      <label for="incomeDate">Income Date</label>
    </div>
    <div class="form-floating mb-3 mt-3">
      <textarea class="form-control" formControlName="description" [(ngModel)]="income.description" id="description"
        name="description" placeholder="Enter the description"></textarea>
      <label for="description">Description</label>
    </div>
    <div class="form-floating mb-3 mt-3">
      <input type="number" class="form-control" formControlName="actualIncomeAmount" [(ngModel)]="income.actualIncome"
        id="actualIncomeAmount" name="actualIncomeAmount" placeholder="Enter the actual expense">
      <label for="actualIncomeAmount">Actual Income Amount</label>
    </div>
    <button type="submit" (click)="saveIncome()" class="btn btn-success" [disabled]="isLoading">

      <div [hidden]="isLoading">
        Save
      </div>
      <div [hidden]="!isLoading">
        <span class="spinner-border spinner-border-sm"></span>
        Saving..
      </div>
    </button>
  </form>
</div>